(this.webpackJsonpcounter=this.webpackJsonpcounter||[]).push([[0],{26:function(e,t,a){},31:function(e,t,a){e.exports=a(44)},36:function(e,t,a){},42:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(10),o=a(11),r=a(13),l=a(12),s=a(14),i=a(0),c=a.n(i),d=a(17),m=a.n(d);a(36),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var u=a(30),h=a(16),p=Object(h.c)(Object(h.b)({})),v=a(28),g=a(9),E=(a(41),a(21)),f=a(8);a(26);function y(e){return c.a.createElement("div",{className:"todo_div"},c.a.createElement("div",{class:"notification is-primary"},c.a.createElement("i",{class:"fa fa-pencil-square-o edit",title:"Edit To Do","aria-hidden":"true",onClick:function(){return e.handleModalDisplay(e.todo.todo_id,e.todo.todo_data)}}),c.a.createElement("button",{class:"delete",onClick:function(){return e.onClickFunction(e.todo.todo_id)}}),e.todo.todo_data,c.a.createElement("p",{class:"level-item"}," ",e.todo.created_at.substr(0,16))))}var b={V1:{gettodos:"http://localhost:8000/api/v1/to_do",savetodos:"http://localhost:8000/api/v1/save_to_do",deletetodo:"http://localhost:8000/api/v1/delete_to_do",edittodo:"http://localhost:8000/api/v1/edit_to_do",validateUser:"http://localhost:8000/rest-auth/login/"}},k=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).clearAll=function(){localStorage.clear(),a.props.history.push("/")},a.handleChange=function(e){var t;a.setState((t={},Object(E.a)(t,e.target.name,e.target.value),Object(E.a)(t,"text_data",e.target.value),t))},a.state={toggleModal:!1,todo_id:"",text_data:"",text_edit_data:"",responseList:[]},a.handleModalDisplay=a.handleModalDisplay.bind(Object(f.a)(a)),a.onClickFunction=a.onClickFunction.bind(Object(f.a)(a)),a.handleModalDisplay=a.handleModalDisplay.bind(Object(f.a)(a)),a}return Object(s.a)(t,e),Object(o.a)(t,[{key:"handleModalDisplay",value:function(e,t){this.setState((function(a){return{toggleModal:!a.toggleModal,todo_id:e,text_edit_data:t}}))}},{key:"componentDidMount",value:function(){var e=this;null===localStorage.getItem("key")?(this.props.history.push("/"),localStorage.clear()):fetch(b.V1.gettodos,{method:"GET",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("key")}}).then((function(e){return e.json()})).then((function(t){e.setState({key:t.key}),void 0!==t.response?e.setState({responseList:t.response}):e.setState({isError:!0,errorMsg:"Please enter valid credentials"})}))}},{key:"onClearClickAction",value:function(){this.setState({text_data:" "})}},{key:"editToDo",value:function(e){var t=this,a=document.getElementById("edit").value;null!==a&&""!==a.trim()&&(fetch(b.V1.edittodo,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("key")},body:JSON.stringify({todo_id:e,todo_data:a})}).then((function(e){return e.json()})).then((function(e){void 0!==e.response&&fetch(b.V1.gettodos,{method:"GET",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("key")}}).then((function(e){return e.json()})).then((function(e){void 0!==e.response?t.setState({responseList:e.response}):t.setState({isError:!0,errorMsg:"Please enter valid credentials"})}))})),this.setState((function(e){return{toggleModal:!e.toggleModal,todo_id:""}})))}},{key:"onEnterClickAction",value:function(){var e=this;""!==this.state.text_data?fetch(b.V1.savetodos,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("key")},body:JSON.stringify({todo_title:"Test To Do",todo_data:this.state.text_data})}).then((function(e){return e.json()})).then((function(t){void 0!==t.response&&fetch(b.V1.gettodos,{method:"GET",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("key")}}).then((function(e){return e.json()})).then((function(t){void 0!==t.response?e.setState({responseList:t.response}):e.setState({isError:!0,errorMsg:"Please enter valid credentials"})}))})):alert("Please provide your inputs")}},{key:"onClickFunction",value:function(e){var t=this;void 0!==e&&fetch(b.V1.deletetodo,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("key")},body:JSON.stringify({todo_id:e})}).then((function(e){return e.json()})).then((function(e){void 0!==e.response&&fetch(b.V1.gettodos,{method:"GET",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("key")}}).then((function(e){return e.json()})).then((function(e){void 0!==e.response?t.setState({responseList:e.response}):t.setState({isError:!0,errorMsg:"Please enter valid credentials"})}))}))}},{key:"render",value:function(){var e=this;return c.a.createElement("div",null,c.a.createElement((function(t){return!0===t.toggleModal?c.a.createElement("div",{class:"modal is-active"},c.a.createElement("div",{class:"modal-background"}),c.a.createElement("div",{class:"modal-card"},c.a.createElement("header",{class:"modal-card-head"},"Please edit your todo"),c.a.createElement("section",{class:"modal-card-body"},c.a.createElement("textarea",{id:"edit",class:"textarea",placeholder:t.text_edit_data}),c.a.createElement("button",{className:"button info",onClick:function(){return e.editToDo(t.todo_id)}},"Save"),c.a.createElement("button",{className:"button info",onClick:function(){return e.handleModalDisplay()}},"Cancel")))):null}),{toggleModal:this.state.toggleModal,handleEditChange:this.handleEditChange,todo_id:this.state.todo_id,text_edit_data:this.state.text_edit_data}),c.a.createElement("header",null,c.a.createElement("nav",{class:"navbar",role:"navigation","aria-label":"main navigation"},c.a.createElement("div",{class:"navbar-brand"},c.a.createElement("a",{class:"navbar-item",href:"/ToDo"},c.a.createElement("img",{alt:"",src:"https://img.icons8.com/fluent/48/000000/todo-list.png"})),c.a.createElement("text",{class:"navbar-item"},"To-Do")),c.a.createElement("div",{id:"navbarBasicExample",class:"navbar-menu"},c.a.createElement("div",{class:"navbar-start"})),c.a.createElement("div",{class:"navbar-end"},c.a.createElement("div",{class:"navbar-item "},c.a.createElement("a",{href:!0},"Hi"," ",null==localStorage.getItem("user_name")?"User":localStorage.getItem("user_name").toUpperCase())),c.a.createElement("div",{class:"navbar-item"},c.a.createElement("div",{class:"buttons"},c.a.createElement("button",{onClick:this.clearAll,class:"button is-light"},"Log Out")))))),c.a.createElement("div",{id:"div_1",class:"div_1"},this.state.responseList.map((function(t){return c.a.createElement(y,{todo:t,onClickFunction:e.onClickFunction,handleModalDisplay:e.handleModalDisplay})})),0===this.state.responseList.length?c.a.createElement("div",{className:"center is-size-1-touch"},"Your To-Do List Is Empty, Please add your To-Do's"):null),c.a.createElement("div",{id:"div_2",className:"div_2"},c.a.createElement("textarea",{class:"textarea",placeholder:"Please write your todo here",onChange:this.handleChange}),c.a.createElement("div",{class:"level-right"},c.a.createElement("span",null,c.a.createElement("button",{className:"button info",onClick:function(){return e.onEnterClickAction()}},"Save")))))}}]),t}(i.Component),S=(a(42),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).getUserDetailsData=function(){var e=document.getElementById("username").value,t=document.getElementById("password").value;null!==e&&null!==t&&""!==e.trim()&&""!==t.trim()&&(document.getElementById("myInput").addEventListener("keyup",(function(e){13===e.keyCode&&(e.preventDefault(),document.getElementById("myBtn").click())})),fetch(b.V1.validateUser,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})}).then((function(e){return e.json()})).then((function(e){void 0!==e.key?(localStorage.setItem("key",e.key),localStorage.setItem("user_name",e.user.username),a.props.history.push("/ToDo")):a.setState({isError:!0,errorMsg:"Please enter valid credentials"})})))},a.state={isauth:!1,chart:null,userName:null,isError:!1,errorMsg:""},a.handleKeyDown=a.handleKeyDown.bind(Object(f.a)(a)),a}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){localStorage.clear()}},{key:"handleKeyDown",value:function(e){var t=this;if("Enter"===e.key){var a=document.getElementById("username").value,n=document.getElementById("password").value;if(null!==a&&null!==n&&""!==a.trim()&&""!==n.trim())document.getElementById("myInput").addEventListener("keyup",(function(e){13===e.keyCode&&(e.preventDefault(),document.getElementById("myBtn").click())})),fetch(b.V1.validateUser,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a,password:n})}).then((function(e){return e.json()})).then((function(e){t.setState({key:e.key}),void 0!==e.key?(localStorage.setItem("key",e.key),localStorage.setItem("user_name",e.user.username),t.props.history.push("/ToDo")):t.setState({isError:!0,errorMsg:"Please enter valid credentials"})}))}}},{key:"render",value:function(){var e=this;return!1===this.state.isauth?c.a.createElement("div",{className:"container-fluid home"},c.a.createElement("nav",{className:"navbar navbar-align nav-home",role:"navigation","aria-label":"main navigation"},c.a.createElement("div",{className:"navbar-brand"})),c.a.createElement((function(){return c.a.createElement("div",null,c.a.createElement("div",{className:"sufficiency-of-input "},c.a.createElement("p",{className:"heading-font"},"To Do Application")),c.a.createElement("div",null," ",c.a.createElement("div",{className:"card-box-margin"},c.a.createElement("div",null,c.a.createElement("form",{action:"",className:"box bg-color-box"},c.a.createElement("div",{className:"field"},c.a.createElement("label",{for:"",className:"label"},"UserName"),c.a.createElement("div",{className:"control has-icons-left bg-color-box"},c.a.createElement("input",{id:"username",type:"email",placeholder:"e.g. username@test.com",className:"input"}),c.a.createElement("span",{className:"icon is-small is-left"},c.a.createElement("i",{className:"fa fa-envelope"})))),c.a.createElement("div",{className:"field"},c.a.createElement("label",{for:"",className:"label"},"Password"),c.a.createElement("div",{className:"control has-icons-left bg-color-box"},c.a.createElement("input",{id:"password",type:"password",placeholder:"*******",className:"input",required:!0,onKeyDown:e.handleKeyDown}),c.a.createElement("span",{className:"icon is-small is-left"},c.a.createElement("i",{className:"fa fa-lock"})))),c.a.createElement("div",{className:"field"},c.a.createElement("a",{href:!0,id:"myInput",className:"button is-info",onClick:function(){return e.getUserDetailsData()}},"Login")),e.state.isError?c.a.createElement("div",{className:"error-msg"},e.state.errorMsg):null)))),c.a.createElement("div",null))}),{showDetails:this.state.showModal,closeModal:this.toggleAnalyzerModal})):null}}]),t}(i.Component)),_=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).state={hasError:!1},a}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return this.state.hasError?c.a.createElement("section",{className:"hero"},c.a.createElement("div",{className:"hero-body"},c.a.createElement("div",{className:"container "},c.a.createElement("h1",{className:"title"},"Oops! Something went wrong!"),c.a.createElement("h5",null,"Please ",c.a.createElement("a",{href:"Dashboard/Home"},"Click")," on this link to go back to the home page and Please reach out to ",c.a.createElement("a",{href:"mailto:nikhil.mandge@test.com"},"Nikhil Mandge")," if the problem persists after a retry.")))):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(c.a.Component),j=c.a.createElement(v.a,null,c.a.createElement(_,null,c.a.createElement(g.a,{exact:!0,path:"/",component:S}),c.a.createElement(g.a,{exact:!0,path:"/ToDo",component:k})));m.a.render(c.a.createElement(u.a,{store:p},j),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[31,1,2]]]);
//# sourceMappingURL=main.fd32021c.chunk.js.map