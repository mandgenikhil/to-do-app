{"ast":null,"code":"import _classCallCheck from\"/home/nmandge/projetcs/to-do-app/to_do_app/to_do_app/templates/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/nmandge/projetcs/to-do-app/to_do_app/to_do_app/templates/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/nmandge/projetcs/to-do-app/to_do_app/to_do_app/templates/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/nmandge/projetcs/to-do-app/to_do_app/to_do_app/templates/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/home/nmandge/projetcs/to-do-app/to_do_app/to_do_app/templates/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/nmandge/projetcs/to-do-app/to_do_app/to_do_app/templates/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import\"./index.scss\";import APIURLS from\"../../api-urls/to-do-api\";export var LoginPage=/*#__PURE__*/function(_Component){_inherits(LoginPage,_Component);function LoginPage(props){var _this;_classCallCheck(this,LoginPage);_this=_possibleConstructorReturn(this,_getPrototypeOf(LoginPage).call(this,props));_this.getUserDetailsData=function(){var userNameNode=document.getElementById(\"username\").value;var userPermNode=document.getElementById(\"password\").value;if(userNameNode!==null&&userPermNode!==null&&userNameNode.trim()!==\"\"&&userPermNode.trim()!==\"\"){var input=document.getElementById(\"myInput\");input.addEventListener(\"keyup\",function(event){if(event.keyCode===13){event.preventDefault();document.getElementById(\"myBtn\").click();}});fetch(APIURLS.V1.validateUser,{method:\"POST\",mode:\"cors\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({username:userNameNode,password:userPermNode})}).then(function(response){return response.json();}).then(function(json){if(json[\"key\"]!==undefined){localStorage.setItem(\"key\",json[\"key\"]);localStorage.setItem(\"user_name\",json[\"user\"][\"username\"]);_this.props.history.push(\"/ToDo\");}else{_this.setState({isError:true,errorMsg:\"Please enter valid credentials\"});}});}};_this.state={isauth:false,chart:null,userName:null,isError:false,errorMsg:\"\"};_this.handleKeyDown=_this.handleKeyDown.bind(_assertThisInitialized(_this));return _this;}_createClass(LoginPage,[{key:\"componentDidMount\",value:function componentDidMount(){localStorage.clear();}},{key:\"handleKeyDown\",value:function handleKeyDown(e){var _this2=this;if(e.key===\"Enter\"){var userNameNode=document.getElementById(\"username\").value;var userPermNode=document.getElementById(\"password\").value;if(userNameNode!==null&&userPermNode!==null&&userNameNode.trim()!==\"\"&&userPermNode.trim()!==\"\"){var input=document.getElementById(\"myInput\");input.addEventListener(\"keyup\",function(event){if(event.keyCode===13){event.preventDefault();document.getElementById(\"myBtn\").click();}});fetch(APIURLS.V1.validateUser,{method:\"POST\",mode:\"cors\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({username:userNameNode,password:userPermNode})}).then(function(response){return response.json();}).then(function(json){_this2.setState({key:json[\"key\"]});if(json[\"key\"]!==undefined){localStorage.setItem(\"key\",json[\"key\"]);localStorage.setItem(\"user_name\",json[\"user\"][\"username\"]);_this2.props.history.push(\"/ToDo\");}else{_this2.setState({isError:true,errorMsg:\"Please enter valid credentials\"});}});}}}},{key:\"render\",value:function render(){var _this3=this;var LoginBoxContent=function LoginBoxContent(){return React.createElement(\"div\",null,React.createElement(\"div\",{className:\"sufficiency-of-input \"},React.createElement(\"p\",{className:\"heading-font\"},\"To Do Application\")),React.createElement(\"div\",null,\" \",React.createElement(\"div\",{className:\"card-box-margin\"},React.createElement(\"div\",null,React.createElement(\"form\",{action:\"\",className:\"box bg-color-box\"},React.createElement(\"div\",{className:\"field\"},React.createElement(\"label\",{for:\"\",className:\"label\"},\"UserName\"),React.createElement(\"div\",{className:\"control has-icons-left bg-color-box\"},React.createElement(\"input\",{id:\"username\",type:\"email\",placeholder:\"e.g. username@test.com\",className:\"input\"}),React.createElement(\"span\",{className:\"icon is-small is-left\"},React.createElement(\"i\",{className:\"fa fa-envelope\"})))),React.createElement(\"div\",{className:\"field\"},React.createElement(\"label\",{for:\"\",className:\"label\"},\"Password\"),React.createElement(\"div\",{className:\"control has-icons-left bg-color-box\"},React.createElement(\"input\",{id:\"password\",type:\"password\",placeholder:\"*******\",className:\"input\",required:true,onKeyDown:_this3.handleKeyDown}),React.createElement(\"span\",{className:\"icon is-small is-left\"},React.createElement(\"i\",{className:\"fa fa-lock\"})))),React.createElement(\"div\",{className:\"field\"},React.createElement(\"a\",{href:true,id:\"myInput\",className:\"button is-info\",onClick:function onClick(){return _this3.getUserDetailsData();}},\"Login\")),_this3.state.isError?React.createElement(\"div\",{className:\"error-msg\"},_this3.state.errorMsg):null)))),React.createElement(\"div\",null));};if(this.state.isauth===false){return React.createElement(\"div\",{className:\"container-fluid home\"},React.createElement(\"nav\",{className:\"navbar navbar-align nav-home\",role:\"navigation\",\"aria-label\":\"main navigation\"},React.createElement(\"div\",{className:\"navbar-brand\"})),React.createElement(LoginBoxContent,{showDetails:this.state.showModal,closeModal:this.toggleAnalyzerModal}));}else{return null;}}}]);return LoginPage;}(Component);export default LoginPage;","map":{"version":3,"sources":["/home/nmandge/projetcs/to-do-app/to_do_app/to_do_app/templates/src/screens/login/index.js"],"names":["React","Component","APIURLS","LoginPage","props","getUserDetailsData","userNameNode","document","getElementById","value","userPermNode","trim","input","addEventListener","event","keyCode","preventDefault","click","fetch","V1","validateUser","method","mode","headers","body","JSON","stringify","username","password","then","response","json","undefined","localStorage","setItem","history","push","setState","isError","errorMsg","state","isauth","chart","userName","handleKeyDown","bind","clear","e","key","LoginBoxContent","showModal","toggleAnalyzerModal"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./index.scss\";\nimport APIURLS from \"../../api-urls/to-do-api\";\n\nexport class LoginPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isauth: false,\n      chart: null,\n      userName: null,\n      isError: false,\n      errorMsg: \"\",\n    };\n\n    this.handleKeyDown = this.handleKeyDown.bind(this);\n  }\n  componentDidMount() {\n    localStorage.clear();\n  }\n\n  handleKeyDown(e) {\n    if (e.key === \"Enter\") {\n      var userNameNode = document.getElementById(\"username\").value;\n      var userPermNode = document.getElementById(\"password\").value;\n\n      if (\n        userNameNode !== null &&\n        userPermNode !== null &&\n        userNameNode.trim() !== \"\" &&\n        userPermNode.trim() !== \"\"\n      ) {\n        var input = document.getElementById(\"myInput\");\n\n        input.addEventListener(\"keyup\", function (event) {\n          if (event.keyCode === 13) {\n            event.preventDefault();\n            document.getElementById(\"myBtn\").click();\n          }\n        });\n\n        fetch(APIURLS.V1.validateUser, {\n          method: \"POST\",\n          mode: \"cors\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({\n            username: userNameNode,\n            password: userPermNode,\n          }),\n        })\n          .then((response) => response.json())\n          .then((json) => {\n            this.setState({\n              key: json[\"key\"],\n            });\n            if (json[\"key\"] !== undefined) {\n              localStorage.setItem(\"key\", json[\"key\"]);\n              localStorage.setItem(\"user_name\", json[\"user\"][\"username\"]);\n              this.props.history.push(\"/ToDo\");\n            } else {\n              this.setState({\n                isError: true,\n                errorMsg: \"Please enter valid credentials\",\n              });\n            }\n          });\n      }\n    }\n  }\n\n  getUserDetailsData = () => {\n    var userNameNode = document.getElementById(\"username\").value;\n    var userPermNode = document.getElementById(\"password\").value;\n\n    if (\n      userNameNode !== null &&\n      userPermNode !== null &&\n      userNameNode.trim() !== \"\" &&\n      userPermNode.trim() !== \"\"\n    ) {\n      var input = document.getElementById(\"myInput\");\n\n      input.addEventListener(\"keyup\", function (event) {\n        if (event.keyCode === 13) {\n          event.preventDefault();\n          document.getElementById(\"myBtn\").click();\n        }\n      });\n\n      fetch(APIURLS.V1.validateUser, {\n        method: \"POST\",\n        mode: \"cors\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          username: userNameNode,\n          password: userPermNode,\n        }),\n      })\n        .then((response) => response.json())\n        .then((json) => {\n          if (json[\"key\"] !== undefined) {\n            localStorage.setItem(\"key\", json[\"key\"]);\n            localStorage.setItem(\"user_name\", json[\"user\"][\"username\"]);\n            this.props.history.push(\"/ToDo\");\n          } else {\n            this.setState({\n              isError: true,\n              errorMsg: \"Please enter valid credentials\",\n            });\n          }\n        });\n    }\n  };\n\n  render() {\n    const LoginBoxContent = () => {\n      return (\n        <div>\n          <div className=\"sufficiency-of-input \">\n            <p className=\"heading-font\">To Do Application</p>\n          </div>\n          <div>\n            {\" \"}\n            <div className=\"card-box-margin\">\n              <div>\n                <form action=\"\" className=\"box bg-color-box\">\n                  <div className=\"field\">\n                    <label for=\"\" className=\"label\">\n                      UserName\n                    </label>\n                    <div className=\"control has-icons-left bg-color-box\">\n                      <input\n                        id=\"username\"\n                        type=\"email\"\n                        placeholder=\"e.g. username@test.com\"\n                        className=\"input\"\n                      />\n                      <span className=\"icon is-small is-left\">\n                        <i className=\"fa fa-envelope\" />\n                      </span>\n                    </div>\n                  </div>\n                  <div className=\"field\">\n                    <label for=\"\" className=\"label\">\n                      Password\n                    </label>\n                    <div className=\"control has-icons-left bg-color-box\">\n                      <input\n                        id=\"password\"\n                        type=\"password\"\n                        placeholder=\"*******\"\n                        className=\"input\"\n                        required\n                        onKeyDown={this.handleKeyDown}\n                      />\n                      <span className=\"icon is-small is-left\">\n                        <i className=\"fa fa-lock\" />\n                      </span>\n                    </div>\n                  </div>\n                  <div className=\"field\">\n                    <a\n                      href\n                      id=\"myInput\"\n                      className=\"button is-info\"\n                      onClick={() => this.getUserDetailsData()}\n                    >\n                      Login\n                    </a>\n                  </div>\n                  {this.state.isError ? (\n                    <div className=\"error-msg\">{this.state.errorMsg}</div>\n                  ) : null}\n                </form>\n              </div>\n            </div>\n          </div>\n          <div />\n        </div>\n      );\n    };\n    if (this.state.isauth === false) {\n      return (\n        <div className=\"container-fluid home\">\n          <nav\n            className=\"navbar navbar-align nav-home\"\n            role=\"navigation\"\n            aria-label=\"main navigation\"\n          >\n            <div className=\"navbar-brand\" />\n          </nav>\n          <LoginBoxContent\n            showDetails={this.state.showModal}\n            closeModal={this.toggleAnalyzerModal}\n          />\n        </div>\n      );\n    } else {\n      return null\n    }\n  }\n}\n\nexport default LoginPage;\n"]},"metadata":{},"sourceType":"module"}