{"ast":null,"code":"import _defineProperty from\"/home/nmandge/projetcs/to-do-app/to_do_app/to_do_app/templates/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/nmandge/projetcs/to-do-app/to_do_app/to_do_app/templates/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/nmandge/projetcs/to-do-app/to_do_app/to_do_app/templates/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/nmandge/projetcs/to-do-app/to_do_app/to_do_app/templates/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/nmandge/projetcs/to-do-app/to_do_app/to_do_app/templates/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/home/nmandge/projetcs/to-do-app/to_do_app/to_do_app/templates/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/nmandge/projetcs/to-do-app/to_do_app/to_do_app/templates/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import\"./index.scss\";import ToDoItem from\"./to-do-item\";import APIURLS from\"../../api-urls/to-do-api\";export var ToDo=/*#__PURE__*/function(_Component){_inherits(ToDo,_Component);function ToDo(props){var _this;_classCallCheck(this,ToDo);_this=_possibleConstructorReturn(this,_getPrototypeOf(ToDo).call(this,props));_this.clearAll=function(){localStorage.clear();_this.props.history.push(\"/\");};_this.handleChange=function(event){var _this$setState;_this.setState((_this$setState={},_defineProperty(_this$setState,event.target.name,event.target.value),_defineProperty(_this$setState,\"text_data\",event.target.value),_this$setState));};_this.clearData=function(){_this.setState({text_data:\" \",answer:\"\",responseList:[]});};_this.state={toggleModal:false,todo_id:\"\",text_data:\"\",answer:\"\",responseList:[]};_this.handleModalDisplay=_this.handleModalDisplay.bind(_assertThisInitialized(_this));_this.onClickFunction=_this.onClickFunction.bind(_assertThisInitialized(_this));_this.handleModalDisplay=_this.handleModalDisplay.bind(_assertThisInitialized(_this));return _this;}_createClass(ToDo,[{key:\"handleModalDisplay\",value:function handleModalDisplay(todo_id){this.setState(function(prev){return{toggleModal:!prev.toggleModal,todo_id:todo_id};});}},{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;if(localStorage.getItem(\"key\")===null){this.props.history.push(\"/\");localStorage.clear();}else{fetch(APIURLS.V1.gettodos,{method:\"GET\",mode:\"cors\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Token \"+localStorage.getItem(\"key\")}}).then(function(response){return response.json();}).then(function(json){_this2.setState({key:json[\"key\"]});if(json[\"response\"]!==undefined){_this2.setState({responseList:json[\"response\"]});}else{_this2.setState({isError:true,errorMsg:\"Please enter valid credentials\"});}});}}},{key:\"onClearClickAction\",value:function onClearClickAction(){this.setState({text_data:\" \"});}},{key:\"onEnterClickAction\",value:function onEnterClickAction(){var _this3=this;fetch(APIURLS.V1.savetodos,{method:\"POST\",mode:\"cors\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Token \"+localStorage.getItem(\"key\")},body:JSON.stringify({todo_title:\"Test To Do\",todo_data:this.state.text_data})}).then(function(response){return response.json();}).then(function(json){if(json[\"response\"]!==undefined){fetch(APIURLS.V1.gettodos,{method:\"GET\",mode:\"cors\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Token \"+localStorage.getItem(\"key\")}}).then(function(response){return response.json();}).then(function(json){_this3.setState({key:json[\"key\"]});if(json[\"response\"]!==undefined){_this3.setState({responseList:json[\"response\"]});}else{_this3.setState({isError:true,errorMsg:\"Please enter valid credentials\"});}});}});}},{key:\"onClickFunction\",value:function onClickFunction(todo_id){var _this4=this;if(todo_id!==undefined){fetch(APIURLS.V1.deletetodo,{method:\"POST\",mode:\"cors\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Token \"+localStorage.getItem(\"key\")},body:JSON.stringify({todo_id:todo_id})}).then(function(response){return response.json();}).then(function(json){if(json[\"response\"]!==undefined){console.log(\"Mandge\",json);fetch(APIURLS.V1.gettodos,{method:\"GET\",mode:\"cors\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Token \"+localStorage.getItem(\"key\")}}).then(function(response){return response.json();}).then(function(json){_this4.setState({key:json[\"key\"]});if(json[\"response\"]!==undefined){_this4.setState({responseList:json[\"response\"]});}else{_this4.setState({isError:true,errorMsg:\"Please enter valid credentials\"});}});}});}}},{key:\"render\",value:function render(){var _this5=this;var ModalDescription=function ModalDescription(props){if(props.toggleModal===true){return React.createElement(\"div\",{class:\"modal\"},React.createElement(\"div\",{class:\"modal-background\"}),React.createElement(\"div\",{class:\"modal-card\"},React.createElement(\"header\",{class:\"modal-card-head\"},React.createElement(\"p\",{class:\"modal-card-title\"},\"Do You Wanted To Delete This ToDo?\"),React.createElement(\"button\",{class:\"delete\",\"aria-label\":\"close\"})),React.createElement(\"section\",{class:\"modal-card-body\"},React.createElement(\"button\",{class:\"button is-success\"},\"Yes\"),React.createElement(\"button\",{class:\"button\"},\"Cancel\"))));}else{return null;}};return React.createElement(\"div\",null,React.createElement(ModalDescription,{toggleModal:this.state.toggleModal}),React.createElement(\"header\",null,React.createElement(\"nav\",{class:\"navbar\",role:\"navigation\",\"aria-label\":\"main navigation\"},React.createElement(\"div\",{class:\"navbar-brand\"},React.createElement(\"a\",{class:\"navbar-item\",href:\"/ToDo\"},React.createElement(\"img\",{alt:\"\",src:\"https://img.icons8.com/fluent/48/000000/todo-list.png\"})),React.createElement(\"text\",{class:\"navbar-item\"},\"To-Do\")),React.createElement(\"div\",{id:\"navbarBasicExample\",class:\"navbar-menu\"},React.createElement(\"div\",{class:\"navbar-start\"})),React.createElement(\"div\",{class:\"navbar-end\"},React.createElement(\"div\",{class:\"navbar-item \"},React.createElement(\"a\",{href:true},\"Hi\",\" \",localStorage.getItem(\"user_name\")==null?\"User\":localStorage.getItem(\"user_name\").toUpperCase())),React.createElement(\"div\",{class:\"navbar-item\"},React.createElement(\"div\",{class:\"buttons\"},React.createElement(\"button\",{onClick:this.clearAll,class:\"button is-light\"},\"Log Out\")))))),React.createElement(\"article\",{class:\"box\"},this.state.responseList.map(function(elementData){return React.createElement(ToDoItem,{todo:elementData,onClickFunction:_this5.onClickFunction,handleModalDisplay:_this5.handleModalDisplay});}),React.createElement(\"div\",null,React.createElement(\"textarea\",{class:\"textarea\",placeholder:\"e.g. Hello world\",onChange:this.handleChange})),React.createElement(\"div\",{class:\"level-right\"},React.createElement(\"span\",null,React.createElement(\"button\",{className:\"button info\",onClick:function onClick(){return _this5.onEnterClickAction();}},\"Save\")))));}}]);return ToDo;}(Component);export default ToDo;","map":{"version":3,"sources":["/home/nmandge/projetcs/to-do-app/to_do_app/to_do_app/templates/src/screens/todo/index.js"],"names":["React","Component","ToDoItem","APIURLS","ToDo","props","clearAll","localStorage","clear","history","push","handleChange","event","setState","target","name","value","clearData","text_data","answer","responseList","state","toggleModal","todo_id","handleModalDisplay","bind","onClickFunction","prev","getItem","fetch","V1","gettodos","method","mode","headers","Authorization","then","response","json","key","undefined","isError","errorMsg","savetodos","body","JSON","stringify","todo_title","todo_data","deletetodo","console","log","ModalDescription","toUpperCase","map","elementData","onEnterClickAction"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./index.scss\";\nimport ToDoItem from \"./to-do-item\";\nimport APIURLS from \"../../api-urls/to-do-api\";\n\nexport class ToDo extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      toggleModal: false,\n      todo_id: \"\",\n      text_data: \"\",\n      answer: \"\",\n      responseList: [],\n    };\n    this.handleModalDisplay = this.handleModalDisplay.bind(this);\n    this.onClickFunction = this.onClickFunction.bind(this);\n    this.handleModalDisplay = this.handleModalDisplay.bind(this);\n  }\n\n  handleModalDisplay(todo_id) {\n    this.setState((prev) => {\n      return { toggleModal: !prev.toggleModal, todo_id: todo_id };\n    });\n  }\n\n  componentDidMount() {\n    if (localStorage.getItem(\"key\") === null) {\n      this.props.history.push(\"/\");\n      localStorage.clear();\n    } else {\n      fetch(APIURLS.V1.gettodos, {\n        method: \"GET\",\n        mode: \"cors\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: \"Token \" + localStorage.getItem(\"key\"),\n        },\n      })\n        .then((response) => response.json())\n        .then((json) => {\n          this.setState({\n            key: json[\"key\"],\n          });\n          if (json[\"response\"] !== undefined) {\n            this.setState({\n              responseList: json[\"response\"],\n            });\n          } else {\n            this.setState({\n              isError: true,\n              errorMsg: \"Please enter valid credentials\",\n            });\n          }\n        });\n    }\n  }\n\n  clearAll = () => {\n    localStorage.clear();\n    this.props.history.push(\"/\");\n  };\n\n  handleChange = (event) => {\n    this.setState({\n      [event.target.name]: event.target.value,\n      text_data: event.target.value,\n    });\n  };\n\n  clearData = () => {\n    this.setState({\n      text_data: \" \",\n      answer: \"\",\n      responseList: [],\n    });\n  };\n\n  onClearClickAction() {\n    this.setState({\n      text_data: \" \",\n    });\n  }\n\n  onEnterClickAction() {\n    fetch(APIURLS.V1.savetodos, {\n      method: \"POST\",\n      mode: \"cors\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Token \" + localStorage.getItem(\"key\"),\n      },\n      body: JSON.stringify({\n        todo_title: \"Test To Do\",\n        todo_data: this.state.text_data,\n      }),\n    })\n      .then((response) => response.json())\n      .then((json) => {\n        if (json[\"response\"] !== undefined) {\n          fetch(APIURLS.V1.gettodos, {\n            method: \"GET\",\n            mode: \"cors\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n              Authorization: \"Token \" + localStorage.getItem(\"key\"),\n            },\n          })\n            .then((response) => response.json())\n            .then((json) => {\n              this.setState({\n                key: json[\"key\"],\n              });\n              if (json[\"response\"] !== undefined) {\n                this.setState({\n                  responseList: json[\"response\"],\n                });\n              } else {\n                this.setState({\n                  isError: true,\n                  errorMsg: \"Please enter valid credentials\",\n                });\n              }\n            });\n        }\n      });\n  }\n  onClickFunction(todo_id) {\n    if (todo_id !== undefined) {\n      fetch(APIURLS.V1.deletetodo, {\n        method: \"POST\",\n        mode: \"cors\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: \"Token \" + localStorage.getItem(\"key\"),\n        },\n        body: JSON.stringify({\n          todo_id: todo_id,\n        }),\n      })\n        .then((response) => response.json())\n        .then((json) => {\n          if (json[\"response\"] !== undefined) {\n            console.log(\"Mandge\", json);\n            fetch(APIURLS.V1.gettodos, {\n              method: \"GET\",\n              mode: \"cors\",\n              headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: \"Token \" + localStorage.getItem(\"key\"),\n              },\n            })\n              .then((response) => response.json())\n              .then((json) => {\n                this.setState({\n                  key: json[\"key\"],\n                });\n                if (json[\"response\"] !== undefined) {\n                  this.setState({\n                    responseList: json[\"response\"],\n                  });\n                } else {\n                  this.setState({\n                    isError: true,\n                    errorMsg: \"Please enter valid credentials\",\n                  });\n                }\n              });\n          }\n        });\n    }\n  }\n\n  render() {\n    const ModalDescription = (props) => {\n      if (props.toggleModal === true) {\n        return (\n          <div class=\"modal\">\n            <div class=\"modal-background\"></div>\n            <div class=\"modal-card\">\n              <header class=\"modal-card-head\">\n                <p class=\"modal-card-title\">\n                  Do You Wanted To Delete This ToDo?\n                </p>\n                <button class=\"delete\" aria-label=\"close\"></button>\n              </header>\n              <section class=\"modal-card-body\">\n                <button class=\"button is-success\">Yes</button>\n                <button class=\"button\">Cancel</button>\n              </section>\n              {/* <footer class=\"modal-card-foot\">\n      <button class=\"button is-success\">Save changes</button>\n      <button class=\"button\">Cancel</button>\n    </footer> */}\n            </div>\n          </div>\n        );\n      } else {\n        return null;\n      }\n    };\n    return (\n      <div>\n        <ModalDescription toggleModal={this.state.toggleModal} />\n        <header>\n          <nav class=\"navbar\" role=\"navigation\" aria-label=\"main navigation\">\n            <div class=\"navbar-brand\">\n              <a class=\"navbar-item\" href=\"/ToDo\">\n                <img\n                  alt=\"\"\n                  src=\"https://img.icons8.com/fluent/48/000000/todo-list.png\"\n                />\n              </a>\n              <text class=\"navbar-item\">To-Do</text>\n            </div>\n\n            <div id=\"navbarBasicExample\" class=\"navbar-menu\">\n              <div class=\"navbar-start\"></div>\n            </div>\n\n            <div class=\"navbar-end\">\n              <div class=\"navbar-item \">\n                <a href>\n                  Hi{\" \"}\n                  {localStorage.getItem(\"user_name\") == null\n                    ? \"User\"\n                    : localStorage.getItem(\"user_name\").toUpperCase()}\n                </a>\n              </div>\n              <div class=\"navbar-item\">\n                <div class=\"buttons\">\n                  <button onClick={this.clearAll} class=\"button is-light\">\n                    Log Out\n                  </button>\n                </div>\n              </div>\n            </div>\n          </nav>\n        </header>\n\n        <article class=\"box\">\n          {this.state.responseList.map((elementData) => {\n            return (\n              <ToDoItem\n                todo={elementData}\n                onClickFunction={this.onClickFunction}\n                handleModalDisplay={this.handleModalDisplay}\n              />\n            );\n          })}\n          <div>\n            <textarea\n              class=\"textarea\"\n              placeholder=\"e.g. Hello world\"\n              onChange={this.handleChange}\n            ></textarea>\n          </div>\n          <div class=\"level-right\">\n            <span>\n              <button\n                className=\"button info\"\n                onClick={() => this.onEnterClickAction()}\n              >\n                Save\n              </button>\n            </span>\n          </div>\n        </article>\n      </div>\n    );\n  }\n}\n\nexport default ToDo;\n"]},"metadata":{},"sourceType":"module"}