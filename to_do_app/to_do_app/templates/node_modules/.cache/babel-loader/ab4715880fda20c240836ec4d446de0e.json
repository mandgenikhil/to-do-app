{"ast":null,"code":"var _jsxFileName = \"/home/nmandge/projetcs/to-do-app/to_do_app/to_do_app/templates/src/screens/login/index.js\";\nimport React, { Component } from 'react';\nimport './index.scss'; // import Loader from 'react-loader-spinner';\n\nimport APIURLS from '../../api-urls/to-do-api';\nexport class LoginPage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.grantAccess = () => {\n      fetch(APIURLS.V1.validateUser, {\n        method: 'POST',\n        mode: 'cors',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          data: {\n            username: this.props.UserName,\n            password: this.props.passWord\n          }\n        })\n      }).then(response => response.json()).then(json => {\n        this.setState({\n          isauth: json['data']['isauth']\n        });\n      });\n    };\n\n    this.getUserDetailsData = () => {\n      console.log(\"-->\");\n      var userNameNode = document.getElementById('username').value;\n      var userPermNode = document.getElementById('password').value;\n\n      if (userNameNode !== null && userPermNode !== null && userNameNode.trim() !== '' && userPermNode.trim() !== '') {\n        var input = document.getElementById('myInput');\n        input.addEventListener('keyup', function (event) {\n          if (event.keyCode === 13) {\n            event.preventDefault();\n            document.getElementById('myBtn').click();\n          }\n        });\n        fetch(APIURLS.V1.validateUser, {\n          method: 'POST',\n          mode: 'cors',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            username: userNameNode,\n            password: userPermNode\n          })\n        }).then(response => response.json()).then(json => {\n          console.log(\"-->\", json);\n          this.setState({\n            key: json['key']\n          });\n\n          if (json['key']) {\n            localStorage.setItem('key', json['key']);\n            localStorage.setItem('user_name', ['user']['username']);\n          } else {\n            this.setState({\n              isError: true,\n              errorMsg: \"Please enter valid credentials\"\n            });\n          }\n        });\n      }\n    };\n\n    this.state = {\n      isauth: false,\n      chart: null,\n      userName: null,\n      isError: false,\n      errorMsg: ''\n    };\n    this.handleKeyDown = this.handleKeyDown.bind(this);\n  }\n\n  componentDidMount() {\n    localStorage.clear();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props.Token !== null && this.props.Token !== '' && prevProps.Token !== this.props.Token) {\n      this.props.history.push('/Dashboard/People');\n    }\n  }\n\n  handleKeyDown(e) {\n    if (e.key === 'Enter') {\n      var userNameNode = document.getElementById('username').value;\n      var userPermNode = document.getElementById('password').value;\n\n      if (userNameNode !== null && userPermNode !== null && userNameNode.trim() !== '' && userPermNode.trim() !== '') {\n        var input = document.getElementById('myInput');\n        input.addEventListener('keyup', function (event) {\n          if (event.keyCode === 13) {\n            event.preventDefault();\n            document.getElementById('myBtn').click();\n          }\n        });\n        fetch(APIURLS.V1.validateUser, {\n          method: 'POST',\n          mode: 'cors',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            username: userNameNode,\n            password: userPermNode\n          })\n        }).then(response => response.json()).then(json => {\n          console.log(\"-->\", json);\n          this.setState({\n            key: json['key']\n          });\n\n          if (json['key'] !== undefined) {\n            localStorage.setItem('key', json['key']);\n            localStorage.setItem('user_name', ['user']['username']);\n            this.props.history.push('/ToDo');\n          } else {\n            this.setState({\n              isError: true,\n              errorMsg: \"Please enter valid credentials\"\n            });\n          }\n        });\n      }\n    }\n  }\n\n  render() {\n    const LoginBoxContent = () => {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"sufficiency-of-input \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"heading-font\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, \"People-centric Hub for Colgate North America\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, ' ', React.createElement(\"div\", {\n        className: \"card-box-margin\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        action: \"\",\n        className: \"box bg-color-box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"field\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        for: \"\",\n        className: \"label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, \"UserName\"), React.createElement(\"div\", {\n        className: \"control has-icons-left bg-color-box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        id: \"username\",\n        type: \"email\",\n        placeholder: \"e.g. username@fractal.ai\",\n        className: \"input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"icon is-small is-left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-envelope\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        className: \"field\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        for: \"\",\n        className: \"label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, \"Password\"), React.createElement(\"div\", {\n        className: \"control has-icons-left bg-color-box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        id: \"password\",\n        type: \"password\",\n        placeholder: \"*******\",\n        className: \"input\",\n        required: true,\n        onKeyDown: this.handleKeyDown,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"icon is-small is-left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-lock\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        className: \"field\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: true,\n        id: \"myInput\",\n        className: \"button is-info\",\n        onClick: () => this.getUserDetailsData(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      }, \"Login\")), this.state.isError ? React.createElement(\"div\", {\n        className: \"error-msg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      }, this.state.errorMsg) : null)))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232\n        },\n        __self: this\n      }));\n    };\n\n    if (this.state.isauth === false) {\n      return React.createElement(\"div\", {\n        className: \"container-fluid home\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238\n        },\n        __self: this\n      }, React.createElement(\"nav\", {\n        className: \"navbar navbar-align nav-home\",\n        role: \"navigation\",\n        \"aria-label\": \"main navigation\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"navbar-brand\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240\n        },\n        __self: this\n      })), React.createElement(LoginBoxContent, {\n        showDetails: this.state.showModal,\n        closeModal: this.toggleAnalyzerModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242\n        },\n        __self: this\n      }));\n    } else {\n      return \"test\"; // return<Loader\n      // \t\tclassName=\"loader-display\"\n      // \t\ttype=\"Oval\"\n      // \t\tcolor=\"#001e59\"\n      // \t\theight={100}\n      // \t\twidth={100}\t\t\t\t\n      // \t\tvisible={true}\n      // \t/>\n    }\n  }\n\n} // const mapStateToProps = (state) => {\t\n// \treturn {\n// \t\tUserName: state.LoginDataReducer.UserName,\n// \t\tPassWord: state.LoginDataReducer.passWord,\n// \t\tIsAuthenticated: state.LoginDataReducer.IsAuthenticated,\n// \t\tToken: state.LoginDataReducer.Token\n// \t};\n// };\n// const mapDispatchToProps = (dispatch) => {\n// \treturn {\n// \t\tgetUserDetails: (userName, passWord, isauth, token) => {\n// \t\t\tdispatch(credentialAuthenticator(userName, passWord, isauth, token));\n// \t\t}\n// \t};\n// };\n// export default connect(mapStateToProps, mapDispatchToProps)(LoginPage);\n\nexport default LoginPage;","map":{"version":3,"sources":["/home/nmandge/projetcs/to-do-app/to_do_app/to_do_app/templates/src/screens/login/index.js"],"names":["React","Component","APIURLS","LoginPage","constructor","props","grantAccess","fetch","V1","validateUser","method","mode","headers","body","JSON","stringify","data","username","UserName","password","passWord","then","response","json","setState","isauth","getUserDetailsData","console","log","userNameNode","document","getElementById","value","userPermNode","trim","input","addEventListener","event","keyCode","preventDefault","click","key","localStorage","setItem","isError","errorMsg","state","chart","userName","handleKeyDown","bind","componentDidMount","clear","componentDidUpdate","prevProps","prevState","Token","history","push","e","undefined","render","LoginBoxContent","showModal","toggleAnalyzerModal"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './index.scss';\n// import Loader from 'react-loader-spinner';\nimport APIURLS from '../../api-urls/to-do-api';\n\nexport class LoginPage extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tisauth: false,\n\t\t\tchart: null,\n\t\t\tuserName: null,\n\t\t\tisError:false,\n\t\t\terrorMsg:''\n\t\t};\n\n\t\tthis.handleKeyDown = this.handleKeyDown.bind(this);\n\t}\n\tcomponentDidMount() {\n\t\tlocalStorage.clear();\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\tif (this.props.Token !== null && this.props.Token !== '' && prevProps.Token !== this.props.Token) {\n\t\t\tthis.props.history.push('/Dashboard/People');\n\t\t}\n\t}\n\n\tgrantAccess = () => {\n\t\tfetch(APIURLS.V1.validateUser, {\n\t\t\tmethod: 'POST',\n\t\t\tmode: 'cors',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json'\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tdata: {\n\t\t\t\t\tusername: this.props.UserName,\n\t\t\t\t\tpassword: this.props.passWord\n\t\t\t\t}\n\t\t\t})\n\t\t})\n\t\t\t.then((response) => response.json())\n\t\t\t.then((json) => {\n\t\t\t\tthis.setState({\n\t\t\t\t\tisauth: json['data']['isauth']\n\t\t\t\t});\n\t\t\t});\n\t};\n\n\thandleKeyDown(e) {\n\t\tif (e.key === 'Enter') {\n\t\t\tvar userNameNode = document.getElementById('username').value;\n\t\t\tvar userPermNode = document.getElementById('password').value;\n\n\t\t\tif (\n\t\t\t\tuserNameNode !== null &&\n\t\t\t\tuserPermNode !== null &&\n\t\t\t\tuserNameNode.trim() !== '' &&\n\t\t\t\tuserPermNode.trim() !== ''\n\t\t\t) {\n\t\t\t\tvar input = document.getElementById('myInput');\n\n\t\t\t\tinput.addEventListener('keyup', function(event) {\n\t\t\t\t\tif (event.keyCode === 13) {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\tdocument.getElementById('myBtn').click();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tfetch(APIURLS.V1.validateUser, {\n                    method: 'POST',\n                    mode: 'cors',\n                    headers: {\n                        'Content-Type': 'application/json'\n                        \n                    },\n                    body: JSON.stringify({\n                        \n                            username: userNameNode,\n                            password: userPermNode\n                        \n                    })\n                })\n                    .then((response) => response.json())\n                    .then((json) => {\t\n                        console.log(\"-->\",json)\t\t\t\t\n                        this.setState({\n                            key: json['key']\n                        });\n    \n                        if (json['key'] !== undefined) {\n                            localStorage.setItem('key', json['key']);\n                            localStorage.setItem('user_name', ['user']['username']);\t\t\t\t\t\t\n                            this.props.history.push('/ToDo');\n                            \n                        } \n                        else \n                        {\n                            this.setState({\n                                isError:true,\n                                errorMsg:\"Please enter valid credentials\"\n                            })\n                        }\n    \n                        \n                    });\n\t\t\t}\n\t\t}\n\t}\n\n\tgetUserDetailsData = () => {\n        console.log(\"-->\")\t\n\t\tvar userNameNode = document.getElementById('username').value;\n\t\tvar userPermNode = document.getElementById('password').value;\n\n\t\tif (\n\t\t\tuserNameNode !== null &&\n\t\t\tuserPermNode !== null &&\n\t\t\tuserNameNode.trim() !== '' &&\n\t\t\tuserPermNode.trim() !== ''\n\t\t) {\n\t\t\tvar input = document.getElementById('myInput');\n\n\t\t\tinput.addEventListener('keyup', function(event) {\n\t\t\t\tif (event.keyCode === 13) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tdocument.getElementById('myBtn').click();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tfetch(APIURLS.V1.validateUser, {\n\t\t\t\tmethod: 'POST',\n\t\t\t\tmode: 'cors',\n\t\t\t\theaders: {\n                    'Content-Type': 'application/json'\n                    \n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\n\t\t\t\t\t\tusername: userNameNode,\n\t\t\t\t\t\tpassword: userPermNode\n\t\t\t\t\t\n\t\t\t\t})\n\t\t\t})\n\t\t\t\t.then((response) => response.json())\n\t\t\t\t.then((json) => {\t\n                    console.log(\"-->\",json)\t\t\t\t\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tkey: json['key']\n\t\t\t\t\t});\n\n\t\t\t\t\tif (json['key']) {\n                        localStorage.setItem('key', json['key']);\n                        localStorage.setItem('user_name', ['user']['username']);\t\t\t\t\t\t\n\n\t\t\t\t\t} \n\t\t\t\t\telse \n\t\t\t\t\t{\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\tisError:true,\n\t\t\t\t\t\t\terrorMsg:\"Please enter valid credentials\"\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\n\t\t\t\t\t\n\t\t\t\t});\n\t\t}\n\t};\n\n\trender() {\n\t\tconst LoginBoxContent = () => {\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t<div className=\"sufficiency-of-input \">\n\t\t\t\t\t\t<p className=\"heading-font\">People-centric Hub for Colgate North America</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t<div className=\"card-box-margin\">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<form action=\"\" className=\"box bg-color-box\">\n\t\t\t\t\t\t\t\t\t<div className=\"field\">\n\t\t\t\t\t\t\t\t\t\t<label for=\"\" className=\"label\">\n\t\t\t\t\t\t\t\t\t\t\tUserName\n\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t<div className=\"control has-icons-left bg-color-box\">\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"username\"\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"e.g. username@fractal.ai\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"input\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"icon is-small is-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"fa fa-envelope\" />\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"field\">\n\t\t\t\t\t\t\t\t\t\t<label for=\"\" className=\"label\">\n\t\t\t\t\t\t\t\t\t\t\tPassword\n\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t<div className=\"control has-icons-left bg-color-box\">\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"*******\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"input\"\n\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\tonKeyDown={this.handleKeyDown}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"icon is-small is-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"fa fa-lock\" />\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"field\">\n\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\thref\n\t\t\t\t\t\t\t\t\t\t\tid=\"myInput\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"button is-info\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.getUserDetailsData()}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tLogin\n\t\t\t\t\t\t\t\t\t\t</a>\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{this.state.isError ? <div className=\"error-msg\">{this.state.errorMsg}</div> : null}\n\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div />\n\t\t\t\t</div>\n\t\t\t);\n\t\t};\n\t\tif (this.state.isauth === false) {\n\t\t\treturn (\n\t\t\t\t<div className=\"container-fluid home\">\n\t\t\t\t\t<nav className=\"navbar navbar-align nav-home\" role=\"navigation\" aria-label=\"main navigation\">\n\t\t\t\t\t\t<div className=\"navbar-brand\" />\n\t\t\t\t\t</nav>\n\t\t\t\t\t<LoginBoxContent showDetails={this.state.showModal} closeModal={this.toggleAnalyzerModal} />\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\telse\n\t\t{\t\t\n        return \"test\"\t\n\t\t// return<Loader\n\t\t// \t\tclassName=\"loader-display\"\n\t\t// \t\ttype=\"Oval\"\n\t\t// \t\tcolor=\"#001e59\"\n\t\t// \t\theight={100}\n\t\t// \t\twidth={100}\t\t\t\t\n\t\t// \t\tvisible={true}\n\t\t// \t/>\n\t\t}\n\t}\n}\n\n// const mapStateToProps = (state) => {\t\n// \treturn {\n// \t\tUserName: state.LoginDataReducer.UserName,\n// \t\tPassWord: state.LoginDataReducer.passWord,\n// \t\tIsAuthenticated: state.LoginDataReducer.IsAuthenticated,\n// \t\tToken: state.LoginDataReducer.Token\n// \t};\n// };\n\n// const mapDispatchToProps = (dispatch) => {\n// \treturn {\n// \t\tgetUserDetails: (userName, passWord, isauth, token) => {\n// \t\t\tdispatch(credentialAuthenticator(userName, passWord, isauth, token));\n// \t\t}\n// \t};\n// };\n\n// export default connect(mapStateToProps, mapDispatchToProps)(LoginPage);\nexport default LoginPage;\n"]},"metadata":{},"sourceType":"module"}