{"ast":null,"code":"var _jsxFileName = \"/home/nmandge/projetcs/to-do-app/to_do_app/to_do_app/templates/src/screens/todo/index.js\";\nimport React, { Component } from 'react';\nimport './index.scss';\nimport ToDoItem from './to-do-item';\nimport APIURLS from '../../api-urls/to-do-api';\nexport class ToDo extends Component {\n  constructor(props) {\n    super(props);\n\n    this.clearAll = () => {\n      localStorage.clear();\n      this.props.history.push('/');\n    };\n\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value,\n        text_data: event.target.value\n      });\n    };\n\n    this.clearData = () => {\n      this.setState({\n        text_data: ' ',\n        answer: '',\n        responseList: []\n      });\n    };\n\n    this.state = {\n      toggleModal: false,\n      todo_id: '',\n      text_data: '',\n      answer: '',\n      responseList: []\n    };\n    this.handleModalDisplay = this.handleModalDisplay.bind(this);\n    this.onClickFunction = this.onClickFunction.bind(this);\n    this.handleModalDisplay = this.handleModalDisplay.bind(this);\n  }\n\n  handleModalDisplay(todo_id) {\n    this.setState(prev => {\n      return {\n        toggleModal: !prev.toggleModal,\n        todo_id: todo_id\n      };\n    });\n  }\n\n  componentDidMount() {\n    if (localStorage.getItem(\"key\") === null) {\n      this.props.history.push('/');\n      localStorage.clear();\n    } else {\n      fetch(APIURLS.V1.gettodos, {\n        method: 'GET',\n        mode: 'cors',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Token ' + localStorage.getItem(\"key\")\n        }\n      }).then(response => response.json()).then(json => {\n        console.log(\"-->\", json);\n        this.setState({\n          key: json['key']\n        });\n        console.log(\"Aya 1\");\n\n        if (json['response'] !== undefined) {\n          this.setState({\n            responseList: json['response']\n          });\n        } else {\n          this.setState({\n            isError: true,\n            errorMsg: \"Please enter valid credentials\"\n          });\n        }\n      });\n    }\n  }\n\n  onClearClickAction() {\n    this.setState({\n      text_data: ' '\n    });\n  }\n\n  onEnterClickAction() {\n    fetch(APIURLS.V1.savetodos, {\n      method: 'POST',\n      mode: 'cors',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Token ' + localStorage.getItem(\"key\")\n      },\n      // body:formData\n      body: JSON.stringify({\n        todo_title: \"Test To Do\",\n        todo_data: this.state.text_data\n      })\n    }).then(response => response.json()).then(json => {\n      if (json['response'] !== undefined) {\n        console.log(\"Mandge\", json);\n        fetch(APIURLS.V1.gettodos, {\n          method: 'GET',\n          mode: 'cors',\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': 'Token ' + localStorage.getItem(\"key\")\n          }\n        }).then(response => response.json()).then(json => {\n          console.log(\"-->\", json);\n          this.setState({\n            key: json['key']\n          });\n          console.log(\"Aya 1\");\n\n          if (json['response'] !== undefined) {\n            this.setState({\n              responseList: json['response']\n            });\n          } else {\n            this.setState({\n              isError: true,\n              errorMsg: \"Please enter valid credentials\"\n            });\n          }\n        });\n      } // if (json['res'] !== undefined) {\n      // \tvar responseListData = this.state.responseList;\n      // \tthis.setState({\n      // \t\tanswer: json['res']\n      // \t});\n      // \tresponseListData.push({\n      // \t\ttext_data: this.state.text_data,\n      // \t\tanswer: this.state.answer\n      // \t});\n      // \tthis.setState({\n      // \t\tanswer: '',\n      // \t\tresponseList: responseListData\n      // \t});\n      // }\n\n    });\n  }\n\n  onClickFunction(todo_id) {\n    if (todo_id !== undefined) {\n      fetch(APIURLS.V1.deletetodo, {\n        method: 'POST',\n        mode: 'cors',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Token ' + localStorage.getItem(\"key\")\n        },\n        // body:formData\n        body: JSON.stringify({\n          todo_id: todo_id\n        })\n      }).then(response => response.json()).then(json => {\n        if (json['response'] !== undefined) {\n          console.log(\"Mandge\", json);\n          fetch(APIURLS.V1.gettodos, {\n            method: 'GET',\n            mode: 'cors',\n            headers: {\n              'Content-Type': 'application/json',\n              'Authorization': 'Token ' + localStorage.getItem(\"key\")\n            }\n          }).then(response => response.json()).then(json => {\n            console.log(\"-->\", json);\n            this.setState({\n              key: json['key']\n            });\n            console.log(\"Aya 1\");\n\n            if (json['response'] !== undefined) {\n              this.setState({\n                responseList: json['response']\n              });\n            } else {\n              this.setState({\n                isError: true,\n                errorMsg: \"Please enter valid credentials\"\n              });\n            }\n          });\n        }\n      });\n    }\n  }\n\n  render() {\n    const ModalDescription = props => {\n      if (props.toggleModal === true) {\n        return React.createElement(\"div\", {\n          class: \"modal\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 245\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          class: \"modal-background\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 246\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          class: \"modal-card\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 247\n          },\n          __self: this\n        }, React.createElement(\"header\", {\n          class: \"modal-card-head\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 248\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          class: \"modal-card-title\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 249\n          },\n          __self: this\n        }, \"Do You Wanted To Delete This ToDo?\"), React.createElement(\"button\", {\n          class: \"delete\",\n          \"aria-label\": \"close\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 250\n          },\n          __self: this\n        })), React.createElement(\"section\", {\n          class: \"modal-card-body\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 252\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          class: \"button is-success\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 253\n          },\n          __self: this\n        }, \"Yes\"), React.createElement(\"button\", {\n          class: \"button\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 254\n          },\n          __self: this\n        }, \"Cancel\"))));\n      }\n    };\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267\n      },\n      __self: this\n    }, React.createElement(\"header\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    }, React.createElement(\"nav\", {\n      class: \"navbar\",\n      role: \"navigation\",\n      \"aria-label\": \"main navigation\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"navbar-brand\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      class: \"navbar-item\",\n      href: \"/ToDo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      alt: \"\",\n      src: \"https://img.icons8.com/fluent/48/000000/todo-list.png\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272\n      },\n      __self: this\n    })), React.createElement(\"text\", {\n      class: \"navbar-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    }, \"To-Do\")), React.createElement(\"div\", {\n      id: \"navbarBasicExample\",\n      class: \"navbar-menu\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"navbar-start\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      class: \"navbar-end\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"navbar-item \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290\n      },\n      __self: this\n    }, \"Hi \", localStorage.getItem(\"user_name\") == null ? \"User\" : localStorage.getItem(\"user_name\").toUpperCase())), React.createElement(\"div\", {\n      class: \"navbar-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"buttons\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: this.clearAll,\n      class: \"button is-light\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295\n      },\n      __self: this\n    }, \"Log Out\")))))), React.createElement(\"article\", {\n      class: \"box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304\n      },\n      __self: this\n    }, this.state.responseList.map(elementData => {\n      return React.createElement(ToDoItem, {\n        todo: elementData,\n        onClickFunction: this.onClickFunction,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 307\n        },\n        __self: this\n      });\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311\n      },\n      __self: this\n    }, React.createElement(\"textarea\", {\n      class: \"textarea\",\n      placeholder: \"e.g. Hello world\" // placeholder={this.props.KeyWord}\n      ,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      class: \"level-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"button info\",\n      onClick: () => this.onEnterClickAction(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318\n      },\n      __self: this\n    }, \"Save\")))));\n  }\n\n}\nexport default ToDo;","map":{"version":3,"sources":["/home/nmandge/projetcs/to-do-app/to_do_app/to_do_app/templates/src/screens/todo/index.js"],"names":["React","Component","ToDoItem","APIURLS","ToDo","constructor","props","clearAll","localStorage","clear","history","push","handleChange","event","setState","target","name","value","text_data","clearData","answer","responseList","state","toggleModal","todo_id","handleModalDisplay","bind","onClickFunction","prev","componentDidMount","getItem","fetch","V1","gettodos","method","mode","headers","then","response","json","console","log","key","undefined","isError","errorMsg","onClearClickAction","onEnterClickAction","savetodos","body","JSON","stringify","todo_title","todo_data","deletetodo","render","ModalDescription","toUpperCase","map","elementData"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './index.scss';\nimport ToDoItem from './to-do-item';\nimport APIURLS from '../../api-urls/to-do-api';\n\nexport class ToDo extends Component {\n\n\tconstructor(props){\n\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\ttoggleModal: false,\n\t\t\ttodo_id:'',\n\t\t\ttext_data: '',\n\t\t\tanswer: '',\n\t\t\tresponseList: []\n\t\t};\n\t\tthis.handleModalDisplay = this.handleModalDisplay.bind(this);\n\t\tthis.onClickFunction = this.onClickFunction.bind(this);\t\n\t\tthis.handleModalDisplay = this.handleModalDisplay.bind(this);\n\t}\n\t\n\n\thandleModalDisplay(todo_id) {\t\t\n\t\t\tthis.setState((prev) => {\n\t\t\t\treturn { toggleModal: !prev.toggleModal ,todo_id:todo_id};\n\t\t\t});\t\t\n\t}\n\t\t\n\n\tcomponentDidMount() {\n\t\tif (localStorage.getItem(\"key\") === null) {\n\t\t\tthis.props.history.push('/');\n\t\t\tlocalStorage.clear();\n\t\t}\n\t\telse {\n\n\t\t\tfetch(APIURLS.V1.gettodos, {\n\t\t\t\tmethod: 'GET',\n\t\t\t\tmode: 'cors',\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t'Authorization': 'Token ' + localStorage.getItem(\"key\")\n\n\t\t\t\t},\n\n\t\t\t})\n\t\t\t\t.then((response) => response.json())\n\t\t\t\t.then((json) => {\n\t\t\t\t\tconsole.log(\"-->\", json)\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tkey: json['key']\n\t\t\t\t\t});\n\t\t\t\t\tconsole.log(\"Aya 1\")\n\t\t\t\t\tif (json['response'] !== undefined) {\n\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\tresponseList: json['response']\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\tisError: true,\n\t\t\t\t\t\t\terrorMsg: \"Please enter valid credentials\"\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\n\n\t\t\t\t});\n\n\n\t\t}\n\t}\n\n\n\n\tclearAll = () => {\n\n\t\tlocalStorage.clear();\n\t\tthis.props.history.push('/');\n\t};\n\n\thandleChange = (event) => {\n\t\tthis.setState({\n\t\t\t[event.target.name]: event.target.value,\n\t\t\ttext_data: event.target.value\n\t\t});\n\t};\n\n\tclearData = () => {\n\t\tthis.setState({\n\t\t\ttext_data: ' ',\n\t\t\tanswer: '',\n\t\t\tresponseList: []\n\n\t\t});\n\t};\n\n\tonClearClickAction() {\t\n\n\t\t\tthis.setState({\n\t\t\t\ttext_data:' '\n\t\t\t\t\t});\n\t}\n\n\tonEnterClickAction() {\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\tfetch(APIURLS.V1.savetodos, {\n\t\t\tmethod: 'POST',\n\t\t\tmode: 'cors',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t'Authorization': 'Token ' + localStorage.getItem(\"key\")\n\t\t\t},\n\t\t\t// body:formData\n\t\t\tbody: JSON.stringify({\n\t\t\t\ttodo_title : \"Test To Do\",\n\t\t\t\ttodo_data : this.state.text_data\n\t\t\t})\n\t\t})\n\t\t\t.then((response) => response.json())\n\t\t\t.then((json) => {\n\n\t\t\t\tif(json['response'] !== undefined)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"Mandge\",json)\n\t\t\t\t\tfetch(APIURLS.V1.gettodos, {\n\t\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\t\tmode: 'cors',\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t\t\t'Authorization': 'Token ' + localStorage.getItem(\"key\")\n\t\t\n\t\t\t\t\t\t},\n\t\t\n\t\t\t\t\t})\n\t\t\t\t\t\t.then((response) => response.json())\n\t\t\t\t\t\t.then((json) => {\n\t\t\t\t\t\t\tconsole.log(\"-->\", json)\n\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\tkey: json['key']\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tconsole.log(\"Aya 1\")\n\t\t\t\t\t\t\tif (json['response'] !== undefined) {\n\t\t\n\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\tresponseList: json['response']\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\tisError: true,\n\t\t\t\t\t\t\t\t\terrorMsg: \"Please enter valid credentials\"\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\n\t\t\n\t\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t\n\t\t\t\t// if (json['res'] !== undefined) {\n\t\t\t\t// \tvar responseListData = this.state.responseList;\n\t\t\t\t// \tthis.setState({\n\t\t\t\t// \t\tanswer: json['res']\n\t\t\t\t// \t});\n\n\t\t\t\t// \tresponseListData.push({\n\t\t\t\t// \t\ttext_data: this.state.text_data,\n\t\t\t\t// \t\tanswer: this.state.answer\n\t\t\t\t// \t});\n\n\t\t\t\t// \tthis.setState({\n\t\t\t\t// \t\tanswer: '',\n\t\t\t\t// \t\tresponseList: responseListData\n\t\t\t\t// \t});\n\t\t\t\t// }\n\t\t\t});\n\t}\n\tonClickFunction(todo_id) {\t\t\t\t\n\t\tif (todo_id !== undefined) {\n\n\t\t\tfetch(APIURLS.V1.deletetodo, {\n\t\t\t\tmethod: 'POST',\n\t\t\t\tmode: 'cors',\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t'Authorization': 'Token ' + localStorage.getItem(\"key\")\n\t\t\t\t},\n\t\t\t\t// body:formData\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\ttodo_id : todo_id\t\t\t\t\t\n\t\t\t\t})\n\t\t\t})\n\t\t\t\t.then((response) => response.json())\n\t\t\t\t.then((json) => {\n\t\n\t\t\t\t\tif(json['response'] !== undefined)\n\t\t\t\t\t{\n\t\t\t\t\t\tconsole.log(\"Mandge\",json)\n\t\t\t\t\t\tfetch(APIURLS.V1.gettodos, {\n\t\t\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\t\t\tmode: 'cors',\n\t\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t\t\t\t'Authorization': 'Token ' + localStorage.getItem(\"key\")\n\t\t\t\n\t\t\t\t\t\t\t},\n\t\t\t\n\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.then((response) => response.json())\n\t\t\t\t\t\t\t.then((json) => {\n\t\t\t\t\t\t\t\tconsole.log(\"-->\", json)\n\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\tkey: json['key']\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tconsole.log(\"Aya 1\")\n\t\t\t\t\t\t\t\tif (json['response'] !== undefined) {\n\t\t\t\n\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\tresponseList: json['response']\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\tisError: true,\n\t\t\t\t\t\t\t\t\t\terrorMsg: \"Please enter valid credentials\"\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t});\n\t\t\t\n\t\t}\n\t}\n\n\n\trender() {\n\n\t\tconst ModalDescription = (props) => {\n\t\t\tif (props.toggleModal === true) {\n\t\t\t\treturn (\n\t\t\t\t\t<div class=\"modal\">\n  <div class=\"modal-background\"></div>\n  <div class=\"modal-card\">\n    <header class=\"modal-card-head\">\n      <p class=\"modal-card-title\">Do You Wanted To Delete This ToDo?</p>\n      <button class=\"delete\" aria-label=\"close\"></button>\n    </header>\n    <section class=\"modal-card-body\">\n\t<button class=\"button is-success\">Yes</button>\n      <button class=\"button\">Cancel</button>\n  \n    </section>\n    {/* <footer class=\"modal-card-foot\">\n      <button class=\"button is-success\">Save changes</button>\n      <button class=\"button\">Cancel</button>\n    </footer> */}\n  </div>\n</div>\n\t\t\t\t)\n\t\t\t}\n\t\t}\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<header>\n\t\t\t\t\t<nav class=\"navbar\" role=\"navigation\" aria-label=\"main navigation\">\n\t\t\t\t\t\t<div class=\"navbar-brand\">\n\t\t\t\t\t\t\t<a class=\"navbar-item\" href=\"/ToDo\">\n\t\t\t\t\t\t\t\t<img alt=\"\" src=\"https://img.icons8.com/fluent/48/000000/todo-list.png\" />\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t<text class=\"navbar-item\">\n\t\t\t\t\t\t\t\tTo-Do\n      </text>\n\n\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div id=\"navbarBasicExample\" class=\"navbar-menu\">\n\t\t\t\t\t\t\t<div class=\"navbar-start\">\n\n\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"navbar-end\">\n\t\t\t\t\t\t\t<div class=\"navbar-item \">\n\t\t\t\t\t\t\t\t<a href >Hi {localStorage.getItem(\"user_name\") == null ? \"User\" : localStorage.getItem(\"user_name\").toUpperCase()}</a></div>\n\t\t\t\t\t\t\t<div class=\"navbar-item\">\n\n\t\t\t\t\t\t\t\t<div class=\"buttons\">\n\n\t\t\t\t\t\t\t\t\t<button onClick={this.clearAll} class=\"button is-light\">\n\t\t\t\t\t\t\t\t\t\tLog Out\n          </button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</nav>\n\t\t\t\t</header>\n\n\t\t\t\t<article class=\"box\">\n\t\t\t\t\t{this.state.responseList.map((elementData) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<ToDoItem todo={elementData} onClickFunction={this.onClickFunction} />\n\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t\t<div >\n\t\t\t\t\t\t<textarea class=\"textarea\" placeholder=\"e.g. Hello world\"\n\t\t\t\t\t\t\t\t// placeholder={this.props.KeyWord}\n\t\t\t\t\t\t\t\tonChange={this.handleChange}></textarea>\n\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"level-right\">\n\t\t\t\t\t\t\t<span><button className=\"button info\" onClick={() => this.onEnterClickAction()}>\n\t\t\t\t\t\t\t\tSave\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t{/* <span><button className=\"button info\" onClick={() => this.onClearClickAction()}>\n\t\t\t\t\t\t\t\tClear\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</span> */}\n\t\t\t\t\t\t\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/* <nav class=\"level is-mobile\">\n\t\t\t\t\t\t\n\t\t\t\t\t</nav> */}\n\t\t\t\t\t{/* <div>\n\t\t\t\t\t\tChatbot:\n\t\t\t\t\t\t{this.state.answer !== '' ? this.state.answer : null}\n\t\t\t\t\t</div> */}\n\t\t\t\t</article>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default ToDo;\n"]},"metadata":{},"sourceType":"module"}