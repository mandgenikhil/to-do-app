{"ast":null,"code":"import _defineProperty from\"/home/nmandge/projetcs/to-do-app/to_do_app/to_do_app/templates/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/nmandge/projetcs/to-do-app/to_do_app/to_do_app/templates/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/nmandge/projetcs/to-do-app/to_do_app/to_do_app/templates/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/nmandge/projetcs/to-do-app/to_do_app/to_do_app/templates/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/nmandge/projetcs/to-do-app/to_do_app/to_do_app/templates/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/nmandge/projetcs/to-do-app/to_do_app/to_do_app/templates/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import'./index.scss';import ToDoItem from'./to-do-item';import APIURLS from'../../api-urls/to-do-api';export var ToDo=/*#__PURE__*/function(_Component){_inherits(ToDo,_Component);function ToDo(){var _getPrototypeOf2;var _this;_classCallCheck(this,ToDo);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(ToDo)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={question:'',answer:'',responseList:[]};_this.clearAll=function(){localStorage.clear();_this.props.history.push('/');};_this.handleChange=function(event){var _this$setState;_this.setState((_this$setState={},_defineProperty(_this$setState,event.target.name,event.target.value),_defineProperty(_this$setState,\"question\",event.target.value),_this$setState));};_this.clearData=function(){_this.setState({question:' ',answer:'',responseList:[]});};return _this;}_createClass(ToDo,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;if(localStorage.getItem(\"key\")===null){this.props.history.push('/');localStorage.clear();}else{fetch(APIURLS.V1.gettodos,{method:'GET',mode:'cors',headers:{'Content-Type':'application/json','Authorization':'Token '+localStorage.getItem(\"key\")}}).then(function(response){return response.json();}).then(function(json){console.log(\"-->\",json);_this2.setState({key:json['key']});console.log(\"Aya 1\");if(json['response']!==undefined){_this2.setState({responseList:json['response']});}else{_this2.setState({isError:true,errorMsg:\"Please enter valid credentials\"});}});}}},{key:\"onEnterClickAction\",value:function onEnterClickAction(){var _this3=this;fetch('http://localhost:8000/api/v1/bot',{method:'POST',mode:'cors',headers:{'Content-Type':'application/json'},body:JSON.stringify({data:this.state.question})}).then(function(response){return response.json();}).then(function(json){if(json['res']!==undefined){var responseListData=_this3.state.responseList;_this3.setState({answer:json['res']});responseListData.push({question:_this3.state.question,answer:_this3.state.answer});_this3.setState({answer:'',responseList:responseListData});}});}},{key:\"render\",value:function render(){return React.createElement(\"div\",null,React.createElement(\"header\",null,React.createElement(\"nav\",{class:\"navbar\",role:\"navigation\",\"aria-label\":\"main navigation\"},React.createElement(\"div\",{class:\"navbar-brand\"},React.createElement(\"a\",{class:\"navbar-item\",href:\"/ToDo\"},React.createElement(\"img\",{alt:\"\",src:\"https://img.icons8.com/fluent/48/000000/todo-list.png\"})),React.createElement(\"text\",{class:\"navbar-item\"},\"To-Do\")),React.createElement(\"div\",{id:\"navbarBasicExample\",class:\"navbar-menu\"},React.createElement(\"div\",{class:\"navbar-start\"})),React.createElement(\"div\",{class:\"navbar-end\"},React.createElement(\"div\",{class:\"navbar-item \"},React.createElement(\"a\",{href:true},\"Hi \",localStorage.getItem(\"user_name\").toUpperCase())),React.createElement(\"div\",{class:\"navbar-item\"},React.createElement(\"div\",{class:\"buttons\"},React.createElement(\"button\",{onClick:this.clearAll,class:\"button is-light\"},\"Log Out\")))))),React.createElement(\"article\",{class:\"box\"},this.state.responseList.map(function(elementData){return React.createElement(ToDoItem,{todo:elementData});}),React.createElement(\"nav\",{class:\"level is-mobile\"},React.createElement(\"div\",{class:\"level-left\"}))));}}]);return ToDo;}(Component);export default ToDo;","map":{"version":3,"sources":["/home/nmandge/projetcs/to-do-app/to_do_app/to_do_app/templates/src/screens/todo/index.js"],"names":["React","Component","ToDoItem","APIURLS","ToDo","state","question","answer","responseList","clearAll","localStorage","clear","props","history","push","handleChange","event","setState","target","name","value","clearData","getItem","fetch","V1","gettodos","method","mode","headers","then","response","json","console","log","key","undefined","isError","errorMsg","body","JSON","stringify","data","responseListData","toUpperCase","map","elementData"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './index.scss';\nimport ToDoItem from './to-do-item';\nimport APIURLS from '../../api-urls/to-do-api';\n\nexport class ToDo extends Component {\n\tstate = {\n\t\tquestion: '',\n\t\tanswer: '',\n\t\tresponseList: []\n\t};\n\n\tcomponentDidMount() {\n\t\tif (localStorage.getItem(\"key\") === null) {\n\t\t\tthis.props.history.push('/');\n\t\t\tlocalStorage.clear();\n\t\t}\n\t\telse {\n\n\t\t\tfetch(APIURLS.V1.gettodos, {\n\t\t\t\tmethod: 'GET',\n\t\t\t\tmode: 'cors',\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t'Authorization': 'Token ' + localStorage.getItem(\"key\")\n\n\t\t\t\t},\n\n\t\t\t})\n\t\t\t\t.then((response) => response.json())\n\t\t\t\t.then((json) => {\n\t\t\t\t\tconsole.log(\"-->\", json)\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tkey: json['key']\n\t\t\t\t\t});\n\t\t\t\t\tconsole.log(\"Aya 1\")\n\t\t\t\t\tif (json['response'] !== undefined) {\n\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\tresponseList: json['response']\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\tisError: true,\n\t\t\t\t\t\t\terrorMsg: \"Please enter valid credentials\"\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\n\n\t\t\t\t});\n\n\n\t\t}\n\t}\n\n\n\n\tclearAll = () => {\n\n\t\tlocalStorage.clear();\n\t\tthis.props.history.push('/');\n\t};\n\n\thandleChange = (event) => {\n\t\tthis.setState({\n\t\t\t[event.target.name]: event.target.value,\n\t\t\tquestion: event.target.value\n\t\t});\n\t};\n\n\tclearData = () => {\n\t\tthis.setState({\n\t\t\tquestion: ' ',\n\t\t\tanswer: '',\n\t\t\tresponseList: []\n\n\t\t});\n\t};\n\n\tonEnterClickAction() {\n\t\tfetch('http://localhost:8000/api/v1/bot', {\n\t\t\tmethod: 'POST',\n\t\t\tmode: 'cors',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json'\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tdata: this.state.question\n\t\t\t})\n\t\t})\n\t\t\t.then((response) => response.json())\n\t\t\t.then((json) => {\n\t\t\t\tif (json['res'] !== undefined) {\n\t\t\t\t\tvar responseListData = this.state.responseList;\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tanswer: json['res']\n\t\t\t\t\t});\n\n\t\t\t\t\tresponseListData.push({\n\t\t\t\t\t\tquestion: this.state.question,\n\t\t\t\t\t\tanswer: this.state.answer\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tanswer: '',\n\t\t\t\t\t\tresponseList: responseListData\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<header>\n\t\t\t\t\t<nav class=\"navbar\" role=\"navigation\" aria-label=\"main navigation\">\n\t\t\t\t\t\t<div class=\"navbar-brand\">\n\t\t\t\t\t\t\t<a class=\"navbar-item\" href=\"/ToDo\">\n\t\t\t\t\t\t\t\t<img alt=\"\" src=\"https://img.icons8.com/fluent/48/000000/todo-list.png\" />\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t<text class=\"navbar-item\">\n\t\t\t\t\t\t\t\tTo-Do\n      </text>\n\n\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div id=\"navbarBasicExample\" class=\"navbar-menu\">\n\t\t\t\t\t\t\t<div class=\"navbar-start\">\n\n\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"navbar-end\">\n\t\t\t\t\t\t\t<div class=\"navbar-item \">\n\t\t\t\t\t\t\t\t<a href >Hi {localStorage.getItem(\"user_name\").toUpperCase()}</a></div>\n\t\t\t\t\t\t\t<div class=\"navbar-item\">\n\n\t\t\t\t\t\t\t\t<div class=\"buttons\">\n\n\t\t\t\t\t\t\t\t\t<button onClick={this.clearAll} class=\"button is-light\">\n\t\t\t\t\t\t\t\t\t\tLog Out\n          </button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</nav>\n\t\t\t\t</header>\n\n\t\t\t\t<article class=\"box\">\n\t\t\t\t\t{this.state.responseList.map((elementData) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<ToDoItem todo={elementData} />\n\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t\t<nav class=\"level is-mobile\">\n\t\t\t\t\t\t<div class=\"level-left\">\n\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/* <div class=\"level-right\">\n\t\t\t\t\t\t\t<span><button className=\"button info\" onClick={() => this.onEnterClickAction()}>\n\t\t\t\t\t\t\t\tSEND\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span><button className=\"button info\" onClick={() => this.clearData()}>\n\t\t\t\t\t\t\t\tClear\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div> */}\n\t\t\t\t\t</nav>\n\t\t\t\t\t{/* <div>\n\t\t\t\t\t\tChatbot:\n\t\t\t\t\t\t{this.state.answer !== '' ? this.state.answer : null}\n\t\t\t\t\t</div> */}\n\t\t\t\t</article>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default ToDo;\n"]},"metadata":{},"sourceType":"module"}